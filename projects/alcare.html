<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>AIraCare</title>
</head>
<body class="bg-[#0f0f0f] text-gray-300">

    <div class="project-content">
        <div class="relative w-full h-64 overflow-hidden border-b border-gray-800">
            <img src="assets/images/phanloai.jpg" class="w-full h-full object-cover opacity-60">
            <div class="absolute inset-0 bg-gradient-to-t from-[#0f0f0f] to-transparent flex items-end p-8">
                <div>
                    <h1 class="text-4xl font-bold text-white mb-2">AIraCare Web App</h1>
                    <p class="text-yellow-500 font-mono">Deep Learning for Chest X-Ray Diagnosis</p>
                </div>
            </div>
        </div>

        <div class="p-8 md:p-12 max-w-5xl mx-auto space-y-12">
            
            <div class="bg-[#1a1a1a] p-6 rounded-xl border border-gray-700">
                <ul class="grid md:grid-cols-2 gap-4 text-sm">
                    <li><strong class="text-white">Framework:</strong> Flask (Python)</li>
                    <li><strong class="text-white">AI Core:</strong> TensorFlow 2.10, Keras</li>
                    <li><strong class="text-white">Models:</strong> ResNet-50, VGG-19, DenseNet</li>
                    <li><strong class="text-white">Source:</strong> <a href="https://github.com/DuyIt7033/AIraCare" target="_blank" class="text-cyan-400 hover:underline">GitHub Link</a></li>
                </ul>
            </div>

            <section>
                <h2 class="text-2xl font-bold text-white mb-6 border-l-4 border-yellow-500 pl-4">Luồng hoạt động</h2>
                <div class="overflow-x-auto bg-[#1a1a1a] p-6 rounded-xl border border-gray-800 flex justify-center">
                    <svg width="600" height="480" viewBox="0 0 600 480" xmlns="http://www.w3.org/2000/svg">
                        <g transform="translate(0, -20)">
                            <rect x="200" y="40" width="200" height="40" rx="5" fill="#1e293b" stroke="#06b6d4" stroke-width="2" />
                            <text x="300" y="65" fill="#e2e8f0" font-size="14" text-anchor="middle" font-weight="bold">User Uploads Image</text>
                            <line x1="300" y1="80" x2="300" y2="110" stroke="#475569" stroke-width="2" />
                            <rect x="200" y="110" width="200" height="40" rx="5" fill="#1e293b" stroke="#3b82f6" stroke-width="2" />
                            <text x="300" y="135" fill="#e2e8f0" font-size="14" text-anchor="middle">Validate Format</text>
                            <line x1="300" y1="150" x2="300" y2="180" stroke="#475569" stroke-width="2" />
                            <rect x="200" y="180" width="200" height="40" rx="5" fill="#1e293b" stroke="#f59e0b" stroke-width="2" />
                            <text x="300" y="205" fill="#e2e8f0" font-size="14" text-anchor="middle">X-Ray Check (OpenCV)</text>
                            <line x1="300" y1="220" x2="300" y2="250" stroke="#475569" stroke-width="2" />
                            <rect x="200" y="250" width="200" height="40" rx="5" fill="#1e293b" stroke="#a855f7" stroke-width="2" />
                            <text x="300" y="275" fill="#e2e8f0" font-size="14" text-anchor="middle">Deep Learning Predict</text>
                            <line x1="300" y1="290" x2="300" y2="320" stroke="#475569" stroke-width="2" />
                            <rect x="200" y="320" width="200" height="40" rx="5" fill="#064e3b" stroke="#10b981" stroke-width="2" />
                            <text x="300" y="345" fill="#fff" font-size="14" text-anchor="middle" font-weight="bold">Return Result</text>
                        </g>
                    </svg>
                </div>
            </section>

            <section class="space-y-6">
                <h2 class="text-2xl font-bold text-white mb-4 border-l-4 border-yellow-500 pl-4">Logic xử lý chính</h2>
                
                <div>
                    <h3 class="text-lg font-bold text-cyan-400 mb-2">1. Kiểm tra ảnh X-quang (OpenCV)</h3>
                    <div class="bg-[#0d1117] p-4 rounded-lg border border-gray-700 overflow-x-auto text-sm font-mono text-gray-300">
<pre><code>def is_xray_image(image_path):
    img = cv2.imread(image_path, cv2.IMREAD_GRAYSCALE)
    contrast = img.max() - img.min()
    # Kiểm tra độ tương phản
    if contrast < 150: return False
    
    # Kiểm tra mật độ cạnh (Canny Edge Detection)
    edges = cv2.Canny(img, 50, 150)
    edge_density = np.sum(edges) / (img.shape[0] * img.shape[1])
    if edge_density < 3 or edge_density > 50: return False
    return True</code></pre>
                    </div>
                </div>

                <div>
                    <h3 class="text-lg font-bold text-cyan-400 mb-2">2. Dự đoán với Model (TensorFlow)</h3>
                    <div class="bg-[#0d1117] p-4 rounded-lg border border-gray-700 overflow-x-auto text-sm font-mono text-gray-300">
<pre><code>def predict_image(image_path, model_name):
    model = MODELS[model_name]
    img = load_img(image_path, target_size=(224, 224))
    img_array = img_to_array(img) / 255.0
    img_array = np.expand_dims(img_array, axis=0)

    predictions = model.predict(img_array)
    # Mapping kết quả: NORMAL, COVID-19, PNEUMONIA
    return format_results(predictions)</code></pre>
                    </div>
                </div>
            </section>

            <section>
                <h2 class="text-2xl font-bold text-white mb-4 border-l-4 border-yellow-500 pl-4">Kết quả thực nghiệm</h2>
                <div class="overflow-hidden rounded-xl border border-gray-700">
                    <table class="w-full text-left bg-[#1a1a1a]">
                        <thead class="bg-gray-800 text-cyan-400">
                            <tr>
                                <th class="p-4">Mô hình</th>
                                <th class="p-4">Độ chính xác</th>
                                <th class="p-4">Đánh giá</th>
                            </tr>
                        </thead>
                        <tbody class="divide-y divide-gray-700 text-sm">
                            <tr>
                                <td class="p-4 font-bold text-white">DenseNet</td>
                                <td class="p-4 text-green-400 font-bold">96.1%</td>
                                <td class="p-4">Tốt nhất, được chọn deploy.</td>
                            </tr>
                            <tr>
                                <td class="p-4 text-gray-300">ResNet-50</td>
                                <td class="p-4">95.3%</td>
                                <td class="p-4">Khá tốt.</td>
                            </tr>
                            <tr>
                                <td class="p-4 text-gray-300">VGG-19</td>
                                <td class="p-4">93.8%</td>
                                <td class="p-4">Trung bình.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>
        </div>
    </div>
</body>
</html>